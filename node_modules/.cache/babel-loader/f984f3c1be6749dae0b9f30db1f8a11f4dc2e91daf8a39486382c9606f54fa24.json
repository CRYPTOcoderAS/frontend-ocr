{"ast":null,"code":"import React,{useState,useEffect}from'react';import Modal from'react-bootstrap/Modal';import Button from'react-bootstrap/Button';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const EditModal=_ref=>{let{show,onHide,idNumber,setIdNumber}=_ref;const[userData,setUserData]=useState({name:'',last_name:'',date_of_birth:'',date_of_issue:'',date_of_expiry:''});const[errorMessage,setErrorMessage]=useState(null);useEffect(()=>{const fetchData=async()=>{try{const response=await axios.get(\"https://thai-card.onrender.com/api/citizen/\".concat(idNumber));const userDataFromApi=response.data;setUserData(userDataFromApi);}catch(error){console.error('Error fetching user data:',error.message);}};if(show){fetchData();}},[show,idNumber]);const handleSaveChanges=async()=>{try{const response=await axios.put(\"https://thai-card.onrender.com/api/citizen/\".concat(idNumber),{// Adjust the data structure based on your API requirements\nname:userData.name,last_name:userData.last_name,date_of_birth:userData.date_of_birth,date_of_issue:userData.date_of_issue,date_of_expiry:userData.date_of_expiry});onHide();setIdNumber(\"\");}catch(error){console.error('Error updating user data:',error.message);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Modal,{show:show,onHide:onHide,centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Edit Information\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"First Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstName\",className:\"form-control\",value:userData.name,onChange:e=>setUserData({...userData,name:e.target.value})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"Last Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstName\",className:\"form-control\",value:userData.last_name,onChange:e=>setUserData({...userData,last_name:e.target.value})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"Date of Birth:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstName\",className:\"form-control\",value:userData.date_of_birth,onChange:e=>setUserData({...userData,date_of_birth:e.target.value})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"Date of Issue:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstName\",className:\"form-control\",value:userData.date_of_issue,onChange:e=>setUserData({...userData,date_of_issue:e.target.value})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"Date of Expiry:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstName\",className:\"form-control\",value:userData.date_of_expiry,onChange:e=>setUserData({...userData,date_of_expiry:e.target.value})})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:onHide,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleSaveChanges,children:\"Save Changes\"})]})]})});};export default EditModal;","map":{"version":3,"names":["React","useState","useEffect","Modal","Button","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EditModal","_ref","show","onHide","idNumber","setIdNumber","userData","setUserData","name","last_name","date_of_birth","date_of_issue","date_of_expiry","errorMessage","setErrorMessage","fetchData","response","get","concat","userDataFromApi","data","error","console","message","handleSaveChanges","put","children","centered","Header","closeButton","Title","Body","className","htmlFor","type","id","value","onChange","e","target","Footer","variant","onClick"],"sources":["C:/Users/Dell/Desktop/frontend-ocr/src/components/EditModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport axios from 'axios';\r\n\r\nconst EditModal = ({ show, onHide, idNumber ,setIdNumber}) => {\r\n\r\n  const [userData, setUserData] = useState({\r\n    name: '',\r\n    last_name: '',\r\n    date_of_birth: '',\r\n    date_of_issue: '',\r\n    date_of_expiry: '',\r\n  });\r\n\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await axios.get(`https://thai-card.onrender.com/api/citizen/${idNumber}`);\r\n        \r\n        const userDataFromApi = response.data; \r\n        setUserData(userDataFromApi);\r\n      } catch (error) {\r\n        console.error('Error fetching user data:', error.message);\r\n      }\r\n    };\r\n  \r\n    if (show) {\r\n      fetchData();\r\n    }\r\n  }, [show, idNumber]);\r\n  \r\n  const handleSaveChanges = async () => {\r\n    try {\r\n      const response = await axios.put(\r\n        `https://thai-card.onrender.com/api/citizen/${idNumber}`,\r\n        {\r\n          // Adjust the data structure based on your API requirements\r\n          name: userData.name,\r\n          last_name: userData.last_name,\r\n          date_of_birth: userData.date_of_birth,\r\n          date_of_issue: userData.date_of_issue,\r\n          date_of_expiry: userData.date_of_expiry,\r\n        }\r\n      );\r\n  \r\n      onHide();\r\n      setIdNumber(\"\");\r\n    } catch (error) {\r\n      console.error('Error updating user data:', error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n    \r\n    \r\n    <Modal show={show} onHide={onHide} centered>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Edit Information</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"firstName\">First Name:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"firstName\"\r\n            className=\"form-control\"\r\n            value={userData.name}\r\n            onChange={(e) => setUserData({ ...userData, name: e.target.value })}\r\n          />\r\n           <label htmlFor=\"firstName\">Last Name:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"firstName\"\r\n            className=\"form-control\"\r\n            value={userData.last_name}\r\n            onChange={(e) => setUserData({ ...userData, last_name: e.target.value })}\r\n          />\r\n           <label htmlFor=\"firstName\">Date of Birth:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"firstName\"\r\n            className=\"form-control\"\r\n            value={userData.date_of_birth}\r\n            onChange={(e) => setUserData({ ...userData, date_of_birth: e.target.value })}\r\n          />\r\n           <label htmlFor=\"firstName\">Date of Issue:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"firstName\"\r\n            className=\"form-control\"\r\n            value={userData.date_of_issue}\r\n            onChange={(e) => setUserData({ ...userData, date_of_issue: e.target.value })}\r\n          />\r\n           <label htmlFor=\"firstName\">Date of Expiry:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"firstName\"\r\n            className=\"form-control\"\r\n            value={userData.date_of_expiry}\r\n            onChange={(e) => setUserData({ ...userData, date_of_expiry: e.target.value })}\r\n          />\r\n        </div>\r\n      </Modal.Body>\r\n\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={onHide}>\r\n          Close\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={handleSaveChanges}>\r\n          Save Changes\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditModal;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}