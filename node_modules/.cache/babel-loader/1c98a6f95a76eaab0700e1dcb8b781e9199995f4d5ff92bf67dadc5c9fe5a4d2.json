{"ast":null,"code":"import React,{useState,useEffect}from'react';import Modal from'react-bootstrap/Modal';import Button from'react-bootstrap/Button';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const EditModal=_ref=>{let{show,onHide,idNumber,setIdNumber}=_ref;const[userData,setUserData]=useState({name:'',last_name:'',date_of_birth:'',date_of_issue:'',date_of_expiry:''});useEffect(()=>{const fetchData=async()=>{try{const response=await axios.get(\"https://thai-card.onrender.com/api/citizen/\".concat(idNumber));const userDataFromApi=response.data;// console.log(userDataFromApi)\nsetUserData(userDataFromApi);}catch(error){console.error('Error fetching user data:',error.message);}};if(show){fetchData();}},[show,idNumber]);const handleSaveChanges=async()=>{try{// Assuming you have an API endpoint for updating user data\nconst response=await axios.put(\"https://thai-card.onrender.com/api/citizen/\".concat(idNumber),{// Adjust the data structure based on your API requirements\nname:userData.name,last_name:userData.last_name,date_of_birth:userData.date_of_birth,date_of_issue:userData.date_of_issue,date_of_expiry:userData.date_of_expiry});console.log(userData);console.log(response.data);onHide();setIdNumber(\"\");}catch(error){console.error('Error updating user data:',error.message);}};return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:onHide,centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Edit Information\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"First Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstName\",className:\"form-control\",value:userData.name,onChange:e=>setUserData({...userData,name:e.target.value})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"Last Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstName\",className:\"form-control\",value:userData.last_name,onChange:e=>setUserData({...userData,last_name:e.target.value})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"Date of Birth:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstName\",className:\"form-control\",value:userData.date_of_birth,onChange:e=>setUserData({...userData,date_of_birth:e.target.value})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"Date of Issue:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstName\",className:\"form-control\",value:userData.date_of_issue,onChange:e=>setUserData({...userData,date_of_issue:e.target.value})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"Date of Expiry:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstName\",className:\"form-control\",value:userData.date_of_expiry,onChange:e=>setUserData({...userData,date_of_expiry:e.target.value})})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:onHide,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleSaveChanges,children:\"Save Changes\"})]})]});};export default EditModal;","map":{"version":3,"names":["React","useState","useEffect","Modal","Button","axios","jsx","_jsx","jsxs","_jsxs","EditModal","_ref","show","onHide","idNumber","setIdNumber","userData","setUserData","name","last_name","date_of_birth","date_of_issue","date_of_expiry","fetchData","response","get","concat","userDataFromApi","data","error","console","message","handleSaveChanges","put","log","centered","children","Header","closeButton","Title","Body","className","htmlFor","type","id","value","onChange","e","target","Footer","variant","onClick"],"sources":["C:/Users/Dell/Desktop/frontend/src/components/EditModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport axios from 'axios';\r\n\r\nconst EditModal = ({ show, onHide, idNumber ,setIdNumber}) => {\r\n  const [userData, setUserData] = useState({\r\n    name: '',\r\n    last_name: '',\r\n    date_of_birth: '',\r\n    date_of_issue: '',\r\n    date_of_expiry: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await axios.get(`https://thai-card.onrender.com/api/citizen/${idNumber}`);\r\n        const userDataFromApi = response.data; \r\n        // console.log(userDataFromApi)\r\n        setUserData(userDataFromApi);\r\n      } catch (error) {\r\n        console.error('Error fetching user data:', error.message);\r\n      }\r\n    };\r\n\r\n    if (show) {\r\n      fetchData();\r\n    }\r\n  }, [show, idNumber]);\r\n\r\n  const handleSaveChanges = async () => {\r\n    try {\r\n      // Assuming you have an API endpoint for updating user data\r\n     const response = await axios.put(`https://thai-card.onrender.com/api/citizen/${idNumber}`, {\r\n        // Adjust the data structure based on your API requirements\r\n        name: userData.name,\r\n        last_name: userData.last_name,\r\n        date_of_birth: userData.date_of_birth,\r\n        date_of_issue: userData.date_of_issue,\r\n        date_of_expiry: userData.date_of_expiry,\r\n      });\r\n      console.log(userData)\r\n      console.log(response.data)\r\n      onHide();\r\n      setIdNumber(\"\")\r\n    } catch (error) {\r\n      console.error('Error updating user data:', error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={onHide} centered>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Edit Information</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"firstName\">First Name:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"firstName\"\r\n            className=\"form-control\"\r\n            value={userData.name}\r\n            onChange={(e) => setUserData({ ...userData, name: e.target.value })}\r\n          />\r\n           <label htmlFor=\"firstName\">Last Name:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"firstName\"\r\n            className=\"form-control\"\r\n            value={userData.last_name}\r\n            onChange={(e) => setUserData({ ...userData, last_name: e.target.value })}\r\n          />\r\n           <label htmlFor=\"firstName\">Date of Birth:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"firstName\"\r\n            className=\"form-control\"\r\n            value={userData.date_of_birth}\r\n            onChange={(e) => setUserData({ ...userData, date_of_birth: e.target.value })}\r\n          />\r\n           <label htmlFor=\"firstName\">Date of Issue:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"firstName\"\r\n            className=\"form-control\"\r\n            value={userData.date_of_issue}\r\n            onChange={(e) => setUserData({ ...userData, date_of_issue: e.target.value })}\r\n          />\r\n           <label htmlFor=\"firstName\">Date of Expiry:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"firstName\"\r\n            className=\"form-control\"\r\n            value={userData.date_of_expiry}\r\n            onChange={(e) => setUserData({ ...userData, date_of_expiry: e.target.value })}\r\n          />\r\n        </div>\r\n      </Modal.Body>\r\n\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={onHide}>\r\n          Close\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={handleSaveChanges}>\r\n          Save Changes\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default EditModal;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}